(this["webpackJsonpmy-hw8"]=this["webpackJsonpmy-hw8"]||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},114:function(e,t,a){e.exports=a(212)},119:function(e,t,a){},120:function(e,t,a){},125:function(e,t,a){},209:function(e,t,a){},212:function(e,t,a){"use strict";a.r(t);var n=a(11),l=a.n(n),r=(a(119),a(12)),s=a(13),o=a(15),i=a(14),c=a(16),u=a(0),m=a.n(u),h=a(19),p=a(35),d=(a(120),a(121),function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return m.a.createElement("h1",{style:{margin:"10%"}},"page you requested does not exist")}}]),t}(u.Component)),g=a(80),E=a.n(g),b=a(103),f=a(224),k=a(223),y=a(222),S=a(23),v=(a(125),a(113)),w=a(28),C=a.n(w),N=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={source:"guardian",bookmark:!1,query:"",suggestions_array:[],trial:!0,searchQuery:"",trigger:!1,defaultValue:""},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){localStorage.setItem("source","guardian")}},{key:"bingAutosuggest",value:function(){var e=Object(b.a)(E.a.mark((function e(){var t,a,n,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://likhita.cognitiveservices.azure.com/bing/v7.0/suggestions?q="+this.state.query,a=[],e.next=4,fetch(t,{headers:{"Ocp-Apim-Subscription-Key":"274d08877b924b03953cab19cc643715"}});case 4:return n=e.sent,e.next=7,n.json();case 7:if("Suggestions"!==(l=e.sent)._type){e.next=11;break}return a=l.suggestionGroups[0].searchSuggestions.map((function(e){return{value:e.query,label:e.query}})),e.abrupt("return",a);case 11:return e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendToBookmark",value:function(){this.toggleShow(),this.state.bookmark?localStorage.removeItem(this.props.article.id):null==localStorage.getItem(this.props.article.id)&&localStorage.setItem(this.props.article.id,JSON.stringify(this.props.article))}},{key:"handleBookmark",value:function(e){this.setState({bookmark:!this.state.bookmark}),this.props.history.push("/bookmarked")}},{key:"componentDidUpdate",value:function(e,t){t.source,this.state.source}},{key:"render",value:function(){var e=this,t=this.state.source,a="",n=this.props.location.pathname;return a=n.includes("bookmarked")||n.includes("article")||n.includes("search")?"hidden":"",m.a.createElement(m.a.Fragment,null,m.a.createElement(f.a,{className:"color-nav",variant:"dark",expand:"lg"},m.a.createElement(v.a,{className:"react-select-container",width:"500px",loadOptions:this.bingAutosuggest.bind(this),onInputChange:function(t){e.setState({query:t})},noOptionsMessage:function(){return"No Match"},onChange:function(t){e.setState({defaultValue:t.value}),e.props.history.push("/search/".concat(t.value))},value:{value:"hi",label:n.includes("search")?this.state.defaultValue:"Enter Keyword"}}),m.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),m.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},m.a.createElement(k.a,{className:"mr-auto"},m.a.createElement(k.a.Link,{as:h.b,to:"/".concat(t,"/home")},"Home"),m.a.createElement(k.a.Link,{as:h.b,to:"/".concat(t,"/world")},"World"),m.a.createElement(k.a.Link,{as:h.b,to:"/".concat(t,"/politics")},"Politics"),m.a.createElement(k.a.Link,{as:h.b,to:"/".concat(t,"/business")},"Business"),m.a.createElement(k.a.Link,{as:h.b,to:"/".concat(t,"/technology")},"Technology")),m.a.createElement(k.a,null,m.a.createElement("span",{style:{color:"white"},id:"bookmark_unclicked",className:"bookmark ".concat(n.includes("bookmarked")?"hidden":""),onClick:function(t){e.handleBookmark(),t.stopPropagation()}},m.a.createElement(C.a,{title:"Bookmark",placement:"bottom",arrow:!0},m.a.createElement(S.a,null))),m.a.createElement("span",{style:{color:"white"},id:"bookmark_clicked",className:"bookmark ".concat(n.includes("bookmarked")?"":"hidden"),onClick:function(t){e.handleBookmark(),t.stopPropagation()}},m.a.createElement(C.a,{title:"Bookmark",placement:"bottom"},m.a.createElement(S.b,null)))),m.a.createElement("span",{className:"".concat(a),style:{color:"white"}},"NY Times "),m.a.createElement(y.a,null,m.a.createElement(y.a.Check,{size:50,type:"switch",id:"custom-switch",className:"".concat(a),label:"",defaultChecked:"checked",onChange:function(){var t="guardian"===e.state.source?"nytimes":"guardian";e.setState({source:t});var a=e.props.location.pathname.split("/").slice(-1);e.props.history.push("/".concat(t,"/").concat(a))}})),m.a.createElement("span",{className:"".concat(a),style:{color:"white"}},"Guardian"))))}}]),t}(u.Component),x=Object(p.f)(N),T=a(25),O=a(216),A=a(217),j=a(218),I=a(219),R=a(220),U=a(221),_=a(10),P=a(111),B=a(52),D=a(109),L=a(214),z=a(215),M=a(6),H=(a(101),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={delete:!1,shows:!1,showd:!1,chosenArticle:[],click:!1,source:"",message:"",shareArticle:[]},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"handleClose",value:function(){this.setState({shows:!1})}},{key:"handleShow",value:function(){this.setState({shows:!0})}},{key:"toggleShow",value:function(){this.setState({showd:!this.state.showd})}},{key:"handleDeletion",value:function(e){var t=JSON.parse(localStorage.getItem("articles"));this.toggleShow(),e.post.id?delete t[e.post.id]:e.post.web_url&&delete t[e.post.web_url],null!=e.post.webUrl?this.setState({message:"Removing - "+e.post.webTitle}):this.setState({message:"Removing - "+e.post.headline.main}),localStorage.removeItem("articles"),localStorage.setItem("articles",JSON.stringify(t))}},{key:"detailedArticle",value:function(e){var t,a,n=this;this.setState({click:!0}),e.id?(t=e.id,a="guardian"):e.web_url&&(t=e.web_url,a="nytimes"),fetch("/api/detailedArticle/?source=".concat(a,"&id=").concat(t)).then((function(e){return e.json()})).then((function(e){n.setState({loading:!1}),"guardian"===a?n.props.history.push({pathname:"/article",state:{article:e.response.content,source:a}}):"nytimes"===a&&n.props.history.push({pathname:"/article",state:{article:e.response.docs[0],source:a}})})).catch((function(e){return console.log(e)}))}},{key:"sectionColor",value:function(e){return"WORLD"===e?"rgb(193, 74, 240)":"POLITICS"===e?"rgb(6, 180, 172)":"BUSINESS"===e?"rgb(63, 190, 240)":"TECHNOLOGY"===e?"rgb(173, 255, 47)":"SPORTS"===e||"SPORT"===e?"rgb(228, 228, 2)":"GUARDIAN"===e?"rgb(3, 3, 109)":"NYTIMES"===e?"rgb(128, 128, 128)":"rgb(119, 117, 117)"}},{key:"fontColor",value:function(e){return"TECHNOLOGY"===e||"SPORTS"===e||"NYTIMES"===e||"SPORT"===e?"black":"white"}},{key:"largestImage",value:function(e){if(null===e.multimedia)return"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg";for(var t=0;t<e.multimedia.length;t++)if(e.multimedia[t].width>=2e3)return e.multimedia[t].url;return"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg"}},{key:"renderAppropriately",value:function(e){var t,a=this;return null!=e.webUrl?m.a.createElement(m.a.Fragment,null,m.a.createElement(D.a,{xl:3},m.a.createElement(M.a,{className:"clickable",style:{width:"18rem"},onClick:function(t){t.preventDefault(),a.detailedArticle(e)}},m.a.createElement(M.a.Header,null,m.a.createElement(M.a.Title,{style:{fontStyle:"italic"}},m.a.createElement("span",{className:"line-clamp"},e.webTitle),m.a.createElement("span",{onClick:function(t){t.stopPropagation(),a.setState({shareArticle:e}),a.handleShow()}},m.a.createElement(T.b,null)),m.a.createElement("span",{onClick:function(t){t.stopPropagation(),a.handleDeletion({post:e})}},m.a.createElement(T.a,null)))),m.a.createElement(M.a.Img,{variant:"top",src:(t=0===e.blocks.main.elements[0].assets.length,t?"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png":e.blocks.main.elements[0].assets[e.blocks.main.elements[0].assets.length-1].file)}),m.a.createElement(M.a.Text,null,m.a.createElement(L.a,{style:{paddingTop:"2%"}},m.a.createElement(D.a,{xs:5,sm:5,style:{fontStyle:"italic",fontSize:"14px"}},e.webPublicationDate.slice(0,10)),m.a.createElement(D.a,{style:{padding:"0"}},m.a.createElement("span",{style:{backgroundColor:this.sectionColor(e.sectionId.toUpperCase()),color:this.fontColor(e.sectionId.toUpperCase()),fontSize:"13px",fontWeight:"bold",paddingLeft:"3px",paddingRight:"3px",borderRadius:"10%"}},e.sectionId.toUpperCase()),"    ",m.a.createElement("span",null," "),m.a.createElement("span",{style:{backgroundColor:this.sectionColor("GUARDIAN"),color:this.fontColor("GUARDIAN"),fontWeight:"bold",fontSize:"13px",paddingLeft:"3px",paddingRight:"3px",borderRadius:"10%"}},"GUARDIAN"))))))):null!=e.web_url?m.a.createElement(m.a.Fragment,null,m.a.createElement(D.a,{xl:3},m.a.createElement(M.a,{className:"clickable",style:{width:"18rem"},onClick:function(t){t.preventDefault(),a.detailedArticle(e)}},m.a.createElement(M.a.Header,null,m.a.createElement(M.a.Title,{style:{fontStyle:"italic"}},m.a.createElement("span",{className:"line-clamp"},e.headline.main),m.a.createElement("span",{onClick:function(t){t.stopPropagation(),a.setState({shareArticle:e}),a.handleShow()}},m.a.createElement(T.b,null)),m.a.createElement("span",{onClick:function(t){t.stopPropagation(),a.handleDeletion({post:e})}},m.a.createElement(T.a,null)))),m.a.createElement(M.a.Img,{variant:"top",src:this.largestImage(e)}),m.a.createElement(M.a.Text,null,m.a.createElement(L.a,null,m.a.createElement(D.a,{xs:5,sm:5,style:{fontStyle:"italic",fontSize:"14px"}},e.pub_date.slice(0,10)),m.a.createElement(D.a,{style:{padding:"0"}},m.a.createElement("span",{style:{backgroundColor:this.sectionColor(e.section_name.toUpperCase()),color:this.fontColor(e.section_name.toUpperCase()),fontWeight:"bold",fontSize:"13px",paddingLeft:"3px",paddingRight:"3px",borderRadius:"10%"}},e.section_name.toUpperCase())," ",m.a.createElement("span",null," "),m.a.createElement("span",{style:{backgroundColor:this.sectionColor("NYTIMES"),color:this.fontColor("NYTIMES"),fontWeight:"bold",fontSize:"13px",paddingLeft:"3px",paddingRight:"3px",borderRadius:"10%"}},"NYTIMES"))))))):void 0}},{key:"openBookmarks",value:function(){return localStorage.getItem("articles")?JSON.parse(localStorage.getItem("articles")):{}}},{key:"render",value:function(){var e,t=this,a=this.openBookmarks(),n=[];Object.keys(a).forEach((function(e){n.push(a[e])})),0===n.length&&(e=m.a.createElement("h3",{style:{textAlign:"center"}},"You have no saved articles"));var l="";return this.state.shareArticle.webTitle?l=this.state.shareArticle.webTitle:this.state.shareArticle.abstract&&(l=this.state.shareArticle.abstract),m.a.createElement(z.a,{style:{position:"relative"},fluid:!0},e?m.a.createElement("h3",{style:{textAlign:"center"}},e):m.a.createElement("h3",null,"Favourites"),m.a.createElement(B.a,{style:{position:"absolute",top:"5%",zIndex:2},className:"toast",onClose:function(){return t.toggleShow()},show:this.state.showd,delay:3e3,autohide:!0},m.a.createElement(B.a.Header,null,this.state.message)),m.a.createElement(z.a,{fluid:!0},m.a.createElement(L.a,null,n.map((function(e){return t.renderAppropriately(e)})))),m.a.createElement(_.a,{show:this.state.shows,onHide:function(){return t.handleClose()},dialogClassName:"primaryModal"},m.a.createElement(_.a.Header,{closeButton:function(e){return e.stopPropagation()}},m.a.createElement(_.a.Title,null,l)),m.a.createElement(_.a.Body,{id:"modal-body"},m.a.createElement(P.a,null,"Share via"),m.a.createElement(L.a,null,m.a.createElement(D.a,null,m.a.createElement(O.a,{url:this.state.shareArticle.webUrl},m.a.createElement(A.a,{round:!0}))),m.a.createElement(D.a,null,m.a.createElement(j.a,{url:this.state.shareArticle.webUrl},m.a.createElement(I.a,{round:!0}))),m.a.createElement(D.a,null,m.a.createElement(R.a,{url:this.state.shareArticle.webUrl},m.a.createElement(U.a,{round:!0})))))))}}]),t}(u.Component)),q=Object(p.f)(H),G=(a(102),a(69)),Y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={chosenArticle:[],click:null,source:a.props.source,show:!1,shareArticle:[],loading:!1},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"sectionColor",value:function(e){return"WORLD"===e?"rgb(193, 74, 240)":"POLITICS"===e?"rgb(6, 180, 172)":"BUSINESS"===e?"rgb(63, 190, 240)":"TECHNOLOGY"===e?"rgb(173, 255, 47)":"SPORTS"===e||"SPORT"===e?"rgb(228, 228, 2)":"GUARDIAN"===e?"rgb(3, 3, 109)":"NYTIMES"===e?"rgb(128, 128, 128)":"rgb(119, 117, 117)"}},{key:"fontColor",value:function(e){return"TECHNOLOGY"===e||"SPORTS"===e||"NYTIMES"===e||"SPORT"===e?"black":"white"}},{key:"detailedArticle",value:function(e){var t,a=this;e.result.id?t=e.result.id:e.result.url&&(t=e.result.url),this.setState({loading:!0}),fetch("/api/detailedArticle/?source=".concat(this.props.source,"&id=").concat(t)).then((function(e){return e.json()})).then((function(e){"guardian"===a.props.source?(a.setState({loading:!1}),a.props.history.push({pathname:"/article",state:{article:e.response.content,source:a.props.source}})):"nytimes"===a.props.source&&(a.setState({loading:!1}),a.props.history.push({pathname:"/article",state:{article:e.response.docs[0],source:a.props.source}}))})).catch((function(e){return console.log(e)}))}},{key:"largestImage",value:function(e){if(null===e.multimedia)return"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg";for(var t=0;t<e.multimedia.length;t++)if(e.multimedia[t].width>=2e3)return e.multimedia[t].url;return"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg"}},{key:"render",value:function(){var e=this,t=this.props.posts;return"true"===this.state.loading?m.a.createElement(z.a,{style:{margin:"auto",marginTop:"20%",textAlign:"center"}},m.a.createElement("h2",null,"Loading"),m.a.createElement(G.a,{animation:"grow",style:{color:"rgb(9, 9, 126)"}})):"guardian"===this.props.source&&!1===this.state.loading?m.a.createElement(m.a.Fragment,null,t.map((function(t){return m.a.createElement(m.a.Fragment,null,m.a.createElement(M.a,{className:"clickable",fluid:!0,onClick:function(a){a.preventDefault(),e.setState({loading:!0}),e.detailedArticle({result:t})}},m.a.createElement(L.a,null,m.a.createElement(D.a,{sm:4},m.a.createElement(M.a.Img,{fluid:!0,variant:"top",src:(a=0===t.blocks.main.elements[0].assets.length,a?"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png":t.blocks.main.elements[0].assets[t.blocks.main.elements[0].assets.length-1].file)})),m.a.createElement(D.a,null,m.a.createElement(M.a.Title,{style:{fontStyle:"italic"}},t.webTitle,m.a.createElement("span",{onClick:function(a){a.stopPropagation(),e.setState({shareArticle:t}),e.handleShow()}},m.a.createElement(T.b,null))),m.a.createElement(M.a.Text,null,m.a.createElement(L.a,null,m.a.createElement(D.a,{className:"guardian-div"},t.blocks.body[0].bodyTextSummary," ")),m.a.createElement(L.a,null,m.a.createElement(D.a,{style:{fontStyle:"italic"}},t.webPublicationDate.slice(0,10)),m.a.createElement(D.a,{style:{textAlign:"right"}},m.a.createElement("span",{style:{backgroundColor:e.sectionColor(t.sectionName.toUpperCase()),color:e.fontColor(t.sectionName.toUpperCase()),fontWeight:"bold",paddingLeft:"7px",paddingRight:"7px",borderRadius:"10%"}},t.sectionName.toUpperCase()))))))));var a})),m.a.createElement(_.a,{show:this.state.show,onHide:function(t){e.handleClose()},dialogClassName:"primaryModal"},m.a.createElement(_.a.Header,{closeButton:!0},m.a.createElement(_.a.Title,null,this.state.shareArticle.webTitle)),m.a.createElement(_.a.Body,{id:"modal-body"},m.a.createElement(P.a,null,"Share via"),m.a.createElement(L.a,null,m.a.createElement(D.a,null,m.a.createElement(O.a,{url:this.state.shareArticle.webUrl},m.a.createElement(A.a,{round:!0}))),m.a.createElement(D.a,null,m.a.createElement(j.a,{url:this.state.shareArticle.webUrl},m.a.createElement(I.a,{round:!0}))),m.a.createElement(D.a,null,m.a.createElement(R.a,{url:this.state.shareArticle.webUrl},m.a.createElement(U.a,{round:!0}))))))):"nytimes"===this.props.source&&!1===this.state.loading?m.a.createElement(m.a.Fragment,null,t.map((function(t){return m.a.createElement(m.a.Fragment,null,m.a.createElement(M.a,{className:"clickable",fluid:!0,onClick:function(a){a.preventDefault(),e.setState({loading:!0}),e.detailedArticle({result:t})}},m.a.createElement(L.a,null,m.a.createElement(D.a,{sm:4},m.a.createElement(M.a.Img,{style:{border:"1px solid #ddd",borderRadius:"4px",padding:"5px"},variant:"top",src:e.largestImage(t),alt:"NY Times img"})),m.a.createElement(D.a,null,m.a.createElement(M.a.Title,{style:{fontStyle:"italic"}},t.title,m.a.createElement("span",{onClick:function(a){a.stopPropagation(),e.setState({shareArticle:t}),e.handleShow()}},m.a.createElement(T.b,null))),m.a.createElement(M.a.Text,null,m.a.createElement(L.a,null,m.a.createElement(D.a,null,t.abstract)),m.a.createElement(L.a,null,m.a.createElement(D.a,{style:{fontStyle:"italic"}},t.published_date.slice(0,10)),m.a.createElement(D.a,{style:{textAlign:"right"}},m.a.createElement("span",{style:{backgroundColor:e.sectionColor(t.section.toUpperCase()),color:e.fontColor(t.section.toUpperCase()),fontWeight:"bold",paddingLeft:"7px",paddingRight:"7px",borderRadius:"10%"}},t.section.toUpperCase()," ")))),m.a.createElement(M.a.Text,null)))))})),m.a.createElement(_.a,{show:this.state.show,onHide:function(t){e.handleClose()},dialogClassName:"primaryModal"},m.a.createElement(_.a.Header,{closeButton:!0},m.a.createElement(_.a.Title,null,this.state.shareArticle.webTitle)),m.a.createElement(_.a.Body,{id:"modal-body"},m.a.createElement(P.a,null,"Share via"),m.a.createElement(O.a,{url:this.state.shareArticle.webUrl},m.a.createElement(A.a,{round:!0})),m.a.createElement(j.a,{url:this.state.shareArticle.webUrl},m.a.createElement(I.a,{round:!0})),m.a.createElement(R.a,{url:this.state.shareArticle.webUrl},m.a.createElement(U.a,{round:!0}))))):m.a.createElement(m.a.Fragment,null)}}]),t}(u.Component),F=Object(p.f)(Y),W=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={posts:[],loading:!0,source:"guardian"},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props);var t=this.props.match.params.source,a=this.props.match.params.field;console.log("goign here");var n="/api/?source=".concat(t,"&field=").concat(a),l=[];this.setState({loading:!0}),fetch(n).then((function(e){return e.json()})).then((function(a){if("guardian"===t){if(a.response.results)for(var n=0;n<Math.min(a.response.results.length,10);n++)a.response.results[n].blocks&&a.response.results[n].blocks.main&&a.response.results[n].blocks.main.elements&&a.response.results[n].blocks.main.elements[0].assets&&l.push(a.response.results[n]);e.setState({posts:l,source:t,loading:!1}),l=[]}else if("nytimes"===t){if(n=0,a.results)for(;l.length<10;)console.log(a.results.length),l.push(a.results[n++]);e.setState({posts:l,source:t,loading:!1}),l=[]}})).catch((function(e){return console.log(e)}))}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=e.match.params.source,l=e.match.params.field,r=this.props.match.params.source,s=this.props.match.params.field;if(console.log(r,s,n,l),n!==r||l!==s){console.log(r+s);var o=[],i="/api/?source=".concat(r,"&field=").concat(s);this.setState({loading:!0}),fetch(i).then((function(e){return e.json()})).then((function(e){if("guardian"===r){var t=0;if(e.response.results)for(t=0;t<Math.min(e.response.results.length,10);t++)e.response.results[t].blocks&&e.response.results[t].blocks.main&&e.response.results[t].blocks.main.elements&&e.response.results[t].blocks.main.elements[0].assets&&o.push(e.response.results[t]);a.setState({source:r,posts:o,loading:!1}),o=[]}else if("nytimes"===r){if(t=0,e.results)for(;o.length<10;)o.push(e.results[t++]);a.setState({source:r,posts:o,loading:!1})}})).catch((function(e){return console.log(e)}))}}},{key:"render",value:function(){return console.log(this.state.posts),m.a.createElement(m.a.Fragment,null,this.state.loading?m.a.createElement(z.a,{style:{margin:"auto",marginTop:"20%",textAlign:"center"}},m.a.createElement(G.a,{animation:"grow",style:{color:"rgb(9, 9, 126)"}}),m.a.createElement("h2",null,"Loading")):m.a.createElement(F,{source:this.state.source,posts:this.state.posts}))}}]),t}(u.Component),J=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={searchResG:[],searchResN:[],show:!1,click:!1,shareArticle:[],chosenArticle:[],source:""},console.log(a.props),a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"sectionColor",value:function(e){return"WORLD"===e?"rgb(193, 74, 240)":"POLITICS"===e?"rgb(6, 180, 172)":"BUSINESS"===e?"rgb(63, 190, 240)":"TECHNOLOGY"===e?"rgb(173, 255, 47)":"SPORTS"===e||"SPORT"===e?"rgb(228, 228, 2)":"GUARDIAN"===e?"rgb(3, 3, 109)":"NYTIMES"===e?"rgb(128, 128, 128)":"rgb(119, 117, 117)"}},{key:"fontColor",value:function(e){return"TECHNOLOGY"===e||"SPORTS"===e||"NYTIMES"===e||"SPORT"===e?"black":"white"}},{key:"componentDidMount",value:function(){var e=this;console.log("happening");var t=[];fetch("/api/search/guardian/?q=".concat(this.props.match.params.query)).then((function(e){return e.json()})).then((function(a){console.log(a);var n=0;if(a.response.results)for(n=0;n<Math.min(a.response.results.length,5);n++)a.response.results[n].blocks&&a.response.results[n].blocks.main&&a.response.results[n].blocks.main.elements&&a.response.results[n].blocks.main.elements[0].assets&&t.push(a.response.results[n]);console.log(t),e.setState({searchResG:t})})).catch((function(e){return console.log(e)}));var a=[];fetch("/api/search/nytimes/?q=".concat(this.props.match.params.query)).then((function(e){return e.json()})).then((function(t){if(console.log(t),console.log("coming here?"),t.response.docs)for(var n=0;n<Math.min(t.response.docs.length,5);n++)a.push(t.response.docs[n]);console.log(a),e.setState({searchResN:a})})).catch((function(e){return console.log(e)}))}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"largestImage",value:function(e){if(console.log(e),null===e.multimedia)return"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg";for(var t=0;t<e.multimedia.length;t++)if(e.multimedia[t].width>=2e3)return e.multimedia[t].url;return"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg"}},{key:"share",value:function(e){var t,a,n=this;this.setState({click:!0}),console.log(e),e.result.id?(t=e.result.id,a="guardian"):e.result.web_url&&(t=e.result.web_url,a="nytimes"),console.log(t),console.log(this.props.source),fetch("/api/detailedArticle/?source=".concat(a,"&id=").concat(t)).then((function(e){return e.json()})).then((function(e){n.setState({loading:!1}),"guardian"===a?n.props.history.push({pathname:"/article",state:{article:e.response.content,source:a}}):"nytimes"===a&&n.props.history.push({pathname:"/article",state:{article:e.response.docs[0],source:a}})})).then((function(e){return console.log(e.response.content)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e,t,a=this;console.log("search page loading"),console.log(this.state.searchResG),console.log(this.state.searchResN),console.log(this.state.searchResN),this.state.searchResG&&(e=m.a.createElement(m.a.Fragment,null,this.state.searchResG.map((function(e){return m.a.createElement(D.a,{xl:3},m.a.createElement(M.a,{className:"clickable ",onClick:function(t){t.preventDefault(),a.share({result:e})}},m.a.createElement(M.a.Header,null,m.a.createElement(M.a.Title,{style:{fontStyle:"italic"}},e.webTitle,m.a.createElement("span",{onClick:function(t){t.stopPropagation(),a.setState({shareArticle:e}),console.log("somethin is happenin"),a.handleShow()}},m.a.createElement(T.b,null)))),m.a.createElement(M.a.Img,{variant:"top",src:(t=0===e.blocks.main.elements[0].assets.length,t?"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png":e.blocks.main.elements[0].assets[e.blocks.main.elements[0].assets.length-1].file)}),m.a.createElement(M.a.Text,null,m.a.createElement(L.a,null,m.a.createElement(D.a,{xs:5},m.a.createElement("span",{style:{fontStyle:"italic"}},e.webPublicationDate.slice(0,10))),m.a.createElement(D.a,{style:{textAlign:"right"}},m.a.createElement("span",{style:{backgroundColor:a.sectionColor(e.sectionName.toUpperCase()),color:a.fontColor(e.sectionName.toUpperCase()),fontWeight:"bold",fontSize:"13px",paddingLeft:"7px",paddingRight:"7px",borderRadius:"10%"}},e.sectionName.toUpperCase()," "))))));var t})))),console.log(this.state.searchResN),this.state.searchResN&&(t=m.a.createElement(m.a.Fragment,null,this.state.searchResN.map((function(e){return m.a.createElement(D.a,{xl:3},m.a.createElement(M.a,{className:"clickable",onClick:function(t){t.preventDefault(),a.share({result:e})}},m.a.createElement(M.a.Header,null,m.a.createElement(M.a.Title,{style:{fontStyle:"italic"}},e.headline.main,m.a.createElement("span",{onClick:function(t){t.stopPropagation(),a.setState({shareArticle:e}),a.handleShow()}},m.a.createElement(T.b,null)))),m.a.createElement(M.a.Img,{variant:"top",src:a.largestImage(e)}),m.a.createElement(M.a.Text,null,m.a.createElement(L.a,null,m.a.createElement(D.a,{xs:5},m.a.createElement("span",{style:{fontStyle:"italic"}},e.pub_date.slice(0,10))),m.a.createElement(D.a,{style:{textAlign:"right"}},m.a.createElement("span",{style:{backgroundColor:a.sectionColor(e.section_name.toUpperCase()),color:a.fontColor(e.section_name.toUpperCase()),fontWeight:"bold",paddingLeft:"7px",paddingRight:"7px",borderRadius:"10%",fontSize:"13px"}},e.section_name.toUpperCase()))))))}))));var n="";return this.state.shareArticle.webTitle?n=this.state.shareArticle.webTitle:this.state.shareArticle.abstract&&(n=this.state.shareArticle.abstract),m.a.createElement(m.a.Fragment,null,m.a.createElement("h3",{style:{paddingLeft:"1%"}},"Results"),m.a.createElement(z.a,{fluid:!0},m.a.createElement(L.a,null,e,t)),m.a.createElement(_.a,{show:this.state.show,onHide:function(e){a.handleClose()},dialogClassName:"primaryModal"},m.a.createElement(_.a.Header,{closeButton:!0},m.a.createElement(_.a.Title,null,n)),m.a.createElement(_.a.Body,{id:"modal-body"},m.a.createElement(P.a,null,"Share via"),m.a.createElement(L.a,null,m.a.createElement(D.a,null,m.a.createElement(O.a,{url:this.state.shareArticle.webUrl},m.a.createElement(A.a,{round:!0}))),m.a.createElement(D.a,null,m.a.createElement(j.a,{url:this.state.shareArticle.webUrl},m.a.createElement(I.a,{round:!0}))),m.a.createElement(D.a,null,m.a.createElement(R.a,{url:this.state.shareArticle.webUrl},m.a.createElement(U.a,{round:!0})))))))}}]),t}(u.Component),V=Object(p.f)(J),K=(a(209),a(112)),Q=a.n(K),$=a(84),X=a.n($),Z=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={source:a.props.location.state.source,bookmark:null,show:!1,expand:!1},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){if(null===localStorage.getItem("articles"))this.setState({bookmark:!1});else{var e=JSON.parse(localStorage.getItem("articles"));null!=e[this.props.location.state.article.id]||e[this.props.location.state.article.web_url]?this.setState({bookmark:!0}):this.setState({bookmark:!1})}}},{key:"toggleShow",value:function(){this.setState({show:!this.state.show})}},{key:"componentDidMount",value:function(){var e;this.props.location.state.article.uri?e=this.props.location.state.article.uri.replace(/:/g,""):this.props.location.state.article.id&&(e=this.props.location.state.article.id),Q()("5112673779843072-proj",{createBoxUrl:function(t,a){return e}})}},{key:"componentWillUnmount",value:function(){}},{key:"sendToBookmark",value:function(){var e,t;this.props.location.state.article.id?t=this.props.location.state.article.id:this.props.location.state.article.web_url&&(t=this.props.location.state.article.web_url),e=null===localStorage.getItem("articles")?{}:JSON.parse(localStorage.getItem("articles")),this.setState({bookmark:!this.state.bookmark}),this.toggleShow(),this.state.bookmark?delete e[t]:e[t]=this.props.location.state.article,localStorage.removeItem("articles"),localStorage.setItem("articles",JSON.stringify(e))}},{key:"largestImage",value:function(e){if(console.log(e),null===e.multimedia)return"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg";for(var t=0;t<e.multimedia.length;t++)if(e.multimedia[t].width>=2e3)return e.multimedia[t].url;return"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg"}},{key:"resizeCard",value:function(){this.setState({expand:!this.state.expand})}},{key:"render",value:function(){var e,t,a,n=this,l=this.props.location.state.article;return"guardian"===this.props.location.state.source?(t=l.webTitle,t=this.state.bookmark?"Saving - "+t:"Removing - "+t,e=m.a.createElement(z.a,{style:{position:"relative"}},m.a.createElement(M.a,null,m.a.createElement(M.a.Title,{style:{fontStyle:"italic"}},l.webTitle),m.a.createElement(M.a.Text,null,m.a.createElement(L.a,null,m.a.createElement(D.a,{style:{fontStyle:"italic",padding:"1%"},xs:4,sm:8},l.webPublicationDate.slice(0,10)),m.a.createElement(D.a,{xs:6,sm:3},m.a.createElement(O.a,{url:l.webUrl},m.a.createElement(C.a,{title:"Facebook",arrow:!0},m.a.createElement(A.a,{round:!0,size:32}))),m.a.createElement(j.a,{url:l.webUrl},m.a.createElement(C.a,{title:"Twitter",arrow:!0},m.a.createElement(I.a,{round:!0,size:32}))),m.a.createElement(R.a,{url:l.webUrl},m.a.createElement(C.a,{title:"Email",arrow:!0},m.a.createElement(U.a,{round:!0,size:32})))),m.a.createElement(D.a,{xs:1,sm:1},m.a.createElement("span",{id:"bookmark_unclicked",className:"bookmark ".concat(!0===this.state.bookmark?"hidden":""),onClick:function(){return n.sendToBookmark()}},m.a.createElement(S.a,{color:"red",size:32})),m.a.createElement("span",{id:"bookmark_clicked",className:"bookmark ".concat(!0===this.state.bookmark?"":"hidden"),onClick:function(){return n.sendToBookmark()}},m.a.createElement(S.b,{color:"red",size:32}))))),m.a.createElement(M.a.Img,{variant:"top",src:(a=0===l.blocks.main.elements[0].assets.length,a?"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png":l.blocks.main.elements[0].assets[l.blocks.main.elements[0].assets.length-1].file)}),m.a.createElement(M.a.Text,null,m.a.createElement(L.a,null,m.a.createElement(D.a,{className:"expand ".concat(!0===this.state.expand?"":"guardian-div")},l.blocks.body[0].bodyTextSummary)),m.a.createElement(L.a,null,m.a.createElement(D.a,{style:{textAlign:"right"}},m.a.createElement("span",{onClick:function(){return n.resizeCard()},className:"arrow ".concat(!0===this.state.expand?"hidden":"")},m.a.createElement(S.c,null)),m.a.createElement(X.a,{ContainerClassName:"arrow ".concat(!0===this.state.expand?"":"hidden"),TransitionClassName:"ScrollUpButton__Toggled"},m.a.createElement("span",{onClick:function(){return n.resizeCard()}},m.a.createElement(S.d,null))))))))):"nytimes"===this.props.location.state.source&&(t=l.headline.main,t=this.state.bookmark?"Saving - "+t:"Removing - "+t,e=m.a.createElement(z.a,{style:{position:"relative"}},m.a.createElement(M.a,null,m.a.createElement(M.a.Title,{style:{fontStyle:"italic"}},l.headline.main),m.a.createElement(M.a.Text,null,m.a.createElement(L.a,null,m.a.createElement(D.a,{style:{fontStyle:"italic"},xs:3,sm:8},l.pub_date.slice(0,10)," "),m.a.createElement(D.a,null,m.a.createElement(O.a,{url:l.webUrl},m.a.createElement(C.a,{title:"Facebook",arrow:!0},m.a.createElement(A.a,{round:!0,size:32}))),m.a.createElement(j.a,{url:l.webUrl},m.a.createElement(C.a,{title:"Twitter",arrow:!0},m.a.createElement(I.a,{round:!0,size:32}))),m.a.createElement(R.a,{url:l.webUrl},m.a.createElement(C.a,{title:"Email",arrow:!0},m.a.createElement(U.a,{round:!0,size:32})))),m.a.createElement(D.a,{sm:1},m.a.createElement("span",{id:"bookmark_unclicked",className:"bookmark ".concat(!0===this.state.bookmark?"hidden":""),onClick:function(){return n.sendToBookmark()}},m.a.createElement(S.a,{color:"red",size:32})),m.a.createElement("span",{id:"bookmark_clicked",className:"bookmark ".concat(!0===this.state.bookmark?"":"hidden"),onClick:function(){return n.sendToBookmark()}},m.a.createElement(S.b,{color:"red",size:32}))))),m.a.createElement(M.a.Img,{variant:"top",src:this.largestImage(l)}),m.a.createElement(M.a.Text,{className:"card-details guardian-div"},m.a.createElement(L.a,null,m.a.createElement(D.a,{className:"expand ".concat(!0===this.state.expand?"":"guardian-div")},l.abstract)),m.a.createElement(L.a,null,m.a.createElement(D.a,null,m.a.createElement("span",{onClick:function(){return n.resizeCard()},className:"arrow ".concat(!0===this.state.expand?"hidden":"")},m.a.createElement(S.c,null)),m.a.createElement(X.a,{ContainerClassName:"arrow ".concat(!0===this.state.expand?"":"hidden"),TransitionClassName:"ScrollUpButton__Toggled"},m.a.createElement("span",{onClick:function(){return n.resizeCard()}},m.a.createElement(S.d,null)))))),m.a.createElement(M.a.Text,null)))),m.a.createElement(m.a.Fragment,null,m.a.createElement(z.a,{style:{postion:"relative"}},m.a.createElement(B.a,{className:"toast",style:{position:"absolute",top:"5%",zIndex:2},onClose:function(){return n.toggleShow()},show:this.state.show,delay:3e3,autohide:!0},m.a.createElement(B.a.Header,null,t)),e,m.a.createElement("div",{className:"commentbox",style:{position:"relative"}})))}}]),t}(u.Component),ee=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return m.a.createElement(h.a,null,m.a.createElement("div",{className:"App"},m.a.createElement(x,null),m.a.createElement("div",{id:"page-body"},m.a.createElement(p.c,null,m.a.createElement(p.a,{path:"/article",component:Z,exact:!0}),"}/>",m.a.createElement(p.a,{path:"/bookmarked",component:q,exact:!0}),m.a.createElement(p.a,{path:"/search/:query",component:V,exact:!0}),m.a.createElement(p.a,{path:"/:source/:field",component:W,exact:!0}),m.a.createElement(p.a,{path:"/",component:d})))))}}]),t}(u.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(m.a.createElement(h.a,null,m.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[114,1,2]]]);
//# sourceMappingURL=main.4a662b31.chunk.js.map